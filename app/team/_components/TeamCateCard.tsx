"use client"

import './teamcatecard.css'
// import { teamData } from '../../../utils/people'
import { useFetchTeam } from '../../../Hooks/useFetchData'
import { useEffect, useState } from 'react'
const TeamCateCard = ({ service }: { service?: any }) => {

    const { team, isLoading, error } = useFetchTeam();
    const [filteredTeam, setFilteredTeam] = useState<any>([]);

    useEffect(() => {
        if (service) {
            const filtered = team.filter((member) =>
                member.services.some((s) => s.includes(service))
            );
            setFilteredTeam(filtered);
        } else {
            setFilteredTeam(team);
        }
    }, [service, team]);

    if (isLoading) return <h1>Loading...</h1>;
    if (error) return <h1>Error: {error.message}</h1>;

    return (
        <div className="teamcatecard-container-wrapper">
            {filteredTeam.map((data: any, index: number) => (
                <div className="teamcatecard-container">
                    <div className="teamcatecard" key={index}>
                        <h1>{data.department}</h1>
                        <p>{data.description}</p>
                    </div>

                    <div className="card-container">
                        {
                            data?.members?.map((member: any) => (
                                <div key={member.id} className="team-member">
                                    <img src={member.imageUrl} alt={member.name} className="team-member-image" />
                                    <div>
                                        <div className='people-info'>
                                            <h2>{member.name}</h2>
                                            <a href={member.linkedInUrl} target="_blank" rel="noopener noreferrer">
                                                <div className="linked-in">
                                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M15.053 0H4.44698C3.26757 0 2.13647 0.46852 1.3025 1.30249C0.46853 2.13646 0 3.26757 0 4.44698V15.053C0 16.2324 0.46853 17.3635 1.3025 18.1975C2.13647 19.0315 3.26757 19.5 4.44698 19.5H15.053C16.2324 19.5 17.3636 19.0315 18.1975 18.1975C19.0315 17.3635 19.5 16.2324 19.5 15.053V4.44698C19.5 3.26757 19.0315 2.13646 18.1975 1.30249C17.3636 0.46852 16.2324 0 15.053 0ZM6.59265 15.7423C6.59568 15.7967 6.58757 15.8511 6.56882 15.9023C6.55007 15.9535 6.52106 16.0002 6.48359 16.0398C6.44612 16.0793 6.40097 16.1108 6.3509 16.1323C6.30084 16.1538 6.24691 16.1649 6.19243 16.1648H4.41363C4.30647 16.1619 4.20468 16.1173 4.12992 16.0404C4.05517 15.9636 4.01336 15.8606 4.0134 15.7534V8.3492C4.01191 8.2957 4.02118 8.2425 4.04063 8.1926C4.06007 8.1428 4.0893 8.0973 4.12662 8.059C4.16393 8.0206 4.20857 7.9902 4.25787 7.9693C4.30716 7.9485 4.36012 7.9378 4.41363 7.9379H6.19243C6.24593 7.9378 6.29889 7.9485 6.34819 7.9693C6.39749 7.9902 6.44212 8.0206 6.47944 8.059C6.51675 8.0973 6.546 8.1428 6.56544 8.1926C6.58489 8.2425 6.59414 8.2957 6.59265 8.3492V15.7423ZM5.26968 6.38141C4.97991 6.37922 4.69729 6.29129 4.45743 6.12871C4.21757 5.96613 4.0312 5.73618 3.92183 5.46784C3.81246 5.1995 3.78499 4.90479 3.84286 4.62086C3.90073 4.33693 4.04137 4.07649 4.24704 3.87236C4.45271 3.66824 4.7142 3.52957 4.99856 3.47385C5.28292 3.41812 5.57742 3.44782 5.84492 3.55921C6.11242 3.6706 6.34096 3.85869 6.50173 4.09978C6.66249 4.34086 6.74829 4.62414 6.7483 4.91391C6.7483 5.10757 6.70998 5.29931 6.63554 5.47808C6.5611 5.65685 6.452 5.81913 6.31455 5.95554C6.1771 6.09196 6.01401 6.19982 5.83467 6.27291C5.65534 6.34601 5.46332 6.38288 5.26968 6.38141ZM16.0869 15.7312C16.087 15.8325 16.0475 15.9298 15.9769 16.0025C15.9064 16.0751 15.8102 16.1174 15.709 16.1203H13.8301C13.7288 16.1174 13.6327 16.0751 13.5621 16.0025C13.4915 15.9298 13.4521 15.8325 13.4521 15.7312V12.307C13.4521 11.7956 13.6078 10.0835 12.0958 10.0835C10.9173 10.0835 10.6839 11.2842 10.6394 11.8178V15.809C10.6394 15.9103 10.6 16.0076 10.5294 16.0803C10.4588 16.153 10.3627 16.1952 10.2614 16.1981H8.4382C8.3871 16.1981 8.3365 16.1881 8.2892 16.1685C8.242 16.1489 8.1991 16.1203 8.163 16.0842C8.1269 16.048 8.0982 16.0051 8.0787 15.9579C8.0591 15.9107 8.049 15.8601 8.049 15.809V8.3158C8.0519 8.2146 8.0942 8.1185 8.1669 8.0479C8.2395 7.9773 8.3369 7.9378 8.4382 7.9379H10.2614C10.3627 7.9378 10.46 7.9773 10.5327 8.0479C10.6054 8.1185 10.6476 8.2146 10.6505 8.3158V8.9607C10.9167 8.5712 11.2841 8.2619 11.7132 8.066C12.1422 7.87 12.6166 7.795 13.0852 7.8489C16.1203 7.8489 16.1092 10.6839 16.1092 12.2959L16.0869 15.7312Z" fill="black" />
                                                    </svg>
                                                </div>
                                            </a>
                                        </div>
                                        <p>{member.designation}</p>
                                    </div>
                                </div>
                            ))
                        }
                    </div>
                </div>

            ))}
        </div>

    )
}
{/* <>
{teamData.map((data,index)=>(
 <div className="teamcatecard-container" key={index}>
    <h1>{data.category}</h1>
    <p>{data.description}</p>
    </div>

))} 

 <div className="people-card-linked-in" >
                <svg onClick={() => window.location.href = data.linked_in} width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.053 0H4.44698C3.26757 0 2.13647 0.46852 1.3025 1.30249C0.46853 2.13646 0 3.26757 0 4.44698V15.053C0 16.2324 0.46853 17.3635 1.3025 18.1975C2.13647 19.0315 3.26757 19.5 4.44698 19.5H15.053C16.2324 19.5 17.3636 19.0315 18.1975 18.1975C19.0315 17.3635 19.5 16.2324 19.5 15.053V4.44698C19.5 3.26757 19.0315 2.13646 18.1975 1.30249C17.3636 0.46852 16.2324 0 15.053 0ZM6.59265 15.7423C6.59568 15.7967 6.58757 15.8511 6.56882 15.9023C6.55007 15.9535 6.52106 16.0002 6.48359 16.0398C6.44612 16.0793 6.40097 16.1108 6.3509 16.1323C6.30084 16.1538 6.24691 16.1649 6.19243 16.1648H4.41363C4.30647 16.1619 4.20468 16.1173 4.12992 16.0404C4.05517 15.9636 4.01336 15.8606 4.0134 15.7534V8.3492C4.01191 8.2957 4.02118 8.2425 4.04063 8.1926C4.06007 8.1428 4.0893 8.0973 4.12662 8.059C4.16393 8.0206 4.20857 7.9902 4.25787 7.9693C4.30716 7.9485 4.36012 7.9378 4.41363 7.9379H6.19243C6.24593 7.9378 6.29889 7.9485 6.34819 7.9693C6.39749 7.9902 6.44212 8.0206 6.47944 8.059C6.51675 8.0973 6.546 8.1428 6.56544 8.1926C6.58489 8.2425 6.59414 8.2957 6.59265 8.3492V15.7423ZM5.26968 6.38141C4.97991 6.37922 4.69729 6.29129 4.45743 6.12871C4.21757 5.96613 4.0312 5.73618 3.92183 5.46784C3.81246 5.1995 3.78499 4.90479 3.84286 4.62086C3.90073 4.33693 4.04137 4.07649 4.24704 3.87236C4.45271 3.66824 4.7142 3.52957 4.99856 3.47385C5.28292 3.41812 5.57742 3.44782 5.84492 3.55921C6.11242 3.6706 6.34096 3.85869 6.50173 4.09978C6.66249 4.34086 6.74829 4.62414 6.7483 4.91391C6.7483 5.10757 6.70998 5.29931 6.63554 5.47808C6.5611 5.65685 6.452 5.81913 6.31455 5.95554C6.1771 6.09196 6.01401 6.19982 5.83467 6.27291C5.65534 6.34601 5.46332 6.38288 5.26968 6.38141ZM16.0869 15.7312C16.087 15.8325 16.0475 15.9298 15.9769 16.0025C15.9064 16.0751 15.8102 16.1174 15.709 16.1203H13.8301C13.7288 16.1174 13.6327 16.0751 13.5621 16.0025C13.4915 15.9298 13.4521 15.8325 13.4521 15.7312V12.307C13.4521 11.7956 13.6078 10.0835 12.0958 10.0835C10.9173 10.0835 10.6839 11.2842 10.6394 11.8178V15.809C10.6394 15.9103 10.6 16.0076 10.5294 16.0803C10.4588 16.153 10.3627 16.1952 10.2614 16.1981H8.4382C8.3871 16.1981 8.3365 16.1881 8.2892 16.1685C8.242 16.1489 8.1991 16.1203 8.163 16.0842C8.1269 16.048 8.0982 16.0051 8.0787 15.9579C8.0591 15.9107 8.049 15.8601 8.049 15.809V8.3158C8.0519 8.2146 8.0942 8.1185 8.1669 8.0479C8.2395 7.9773 8.3369 7.9378 8.4382 7.9379H10.2614C10.3627 7.9378 10.46 7.9773 10.5327 8.0479C10.6054 8.1185 10.6476 8.2146 10.6505 8.3158V8.9607C10.9167 8.5712 11.2841 8.2619 11.7132 8.066C12.1422 7.87 12.6166 7.795 13.0852 7.8489C16.1203 7.8489 16.1092 10.6839 16.1092 12.2959L16.0869 15.7312Z" fill="black" />
                </svg>
                </div>



</> */}

export default TeamCateCard
